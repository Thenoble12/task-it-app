(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),i=n.n(s),r=(n(20),n.p,n(21),n(11)),l=n(2),o=(n(22),n(6),n(7),n(10)),d=n(0);var u=function(e){var t=e.task,n=e.catArr,a=e.classArr,c=e.handleToggle,s=e.deleteTask;return Object(d.jsxs)("div",{class:"task",children:[Object(d.jsx)("div",{class:"content",children:Object(d.jsx)("input",{type:"text",class:"text",value:t.name,readonly:!0})}),Object(d.jsxs)("div",{class:"actions",children:[Object(d.jsx)("button",{children:Object(d.jsx)(o.a,{bg:a[t.category],children:n[t.category]})}),Object(d.jsx)("button",{onClick:function(){return c()},class:"edit",children:"Edit"}),Object(d.jsx)("button",{onClick:function(e){s(e,t.id)},class:"delete",children:"Delete"})]})]})};var j=function(e){var t=e.task,n=e.disable,a=e.catArr,c=e.handleSubmit,s=e.setNewTaskCategory,i=e.newTaskCategory,r=e.setNewTaskName,l=e.handleToggle;return Object(d.jsx)("div",{class:"task",children:Object(d.jsxs)("form",{id:"task-form",onSubmit:c,children:[Object(d.jsx)("div",{class:"content",children:Object(d.jsx)("input",{onChange:function(e){return r(e.target.value)},type:"text",id:"task-input",placeholder:t.name,required:!0})}),Object(d.jsxs)("div",{class:"actions",children:[Object(d.jsxs)("select",{name:"category",id:"task-category-select",value:i,onChange:function(e){return s(e.target.value)},defaultValue:t.category,placeholder:a[t.category],required:!0,children:[Object(d.jsx)("option",{value:"default",disabled:!0,children:"Select Category"}),Object(d.jsx)("option",{value:"1",children:"Social"}),Object(d.jsx)("option",{value:"2",children:"Business"}),Object(d.jsx)("option",{value:"3",children:"Work"}),Object(d.jsx)("option",{value:"4",children:"Home"})]}),Object(d.jsx)("button",{type:"submit",id:"task-submit",disabled:n,children:"Submit"}),Object(d.jsx)("button",{onClick:function(){l()},class:"delete",children:"Cancel"})]})]})})};var b=function(e){var t=e.task,n=e.deleteTask,c=e.setTasks,s=e.tasks,i=Object(a.useState)(0),r=Object(l.a)(i,2),o=r[0],b=r[1],h=Object(a.useState)(""),O=Object(l.a)(h,2),f=O[0],p=O[1],k=Object(a.useState)("default"),x=Object(l.a)(k,2),v=x[0],g=x[1],m=["","Social","Business","Work","Home"],y=!f||!v||"default"===v,T=function(){b(o?0:1)};return Object(d.jsx)(d.Fragment,{children:o?Object(d.jsx)(j,{task:t,disable:y,catArr:m,handleSubmit:function(e){e.preventDefault();var n={id:t.id,name:f,details:t.details,category:v,user_id:t.user_id};fetch("tasks/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f,details:t.details,category:v})}).then((function(e){return e.json()})).then((function(e){T();var a=s.map((function(e){return e.id===t.id?n:e}));c(a),c(a)}))},handleToggle:T,setNewTaskCategory:g,newTaskCategory:v,setNewTaskName:p}):Object(d.jsx)(u,{task:t,catArr:m,classArr:["","primary","success","warning","info"],handleToggle:T,deleteTask:n})})};var h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],j=Object(a.useState)(1),h=Object(l.a)(j,2),O=h[0],f=(h[1],Object(a.useState)("")),p=Object(l.a)(f,2),k=p[0],x=p[1],v=Object(a.useState)("default"),g=Object(l.a)(v,2),m=g[0],y=g[1],T=!o||!m||"default"===m,S=function(e,t){e.preventDefault(),fetch("/tasks/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){var t=n.filter((function(t){return e.id!==t.id}));c(t)}))};return Object(a.useEffect)((function(){fetch("/tasks").then((function(e){return e.json()})).then((function(e){c(e),console.log(n)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{children:"Task-it"}),Object(d.jsxs)("form",{id:"task-form",onSubmit:function(e){e.preventDefault();var t={name:o,details:k,category:m,user_id:O};console.log(t),fetch("/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){c([].concat(Object(r.a)(n),[e])),u(""),x(""),y("default")}))},children:[Object(d.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"text",id:"task-input",placeholder:"Enter new task",required:!0}),Object(d.jsxs)("select",{name:"category",id:"task-category-select",value:m,onChange:function(e){return y(e.target.value)},defaultValue:"default",placeholder:"-select-",required:!0,children:[Object(d.jsx)("option",{value:"default",disabled:!0,children:"Select Category"}),Object(d.jsx)("option",{value:"1",children:"Social"}),Object(d.jsx)("option",{value:"2",children:"Business"}),Object(d.jsx)("option",{value:"3",children:"Work"}),Object(d.jsx)("option",{value:"4",children:"Home"})]}),Object(d.jsx)("button",{type:"submit",id:"task-submit",value:"Add task",disabled:T,children:"Add task"})]})]}),Object(d.jsx)("main",{children:Object(d.jsxs)("section",{class:"task-list",children:[Object(d.jsx)("h2",{children:"Tasks"}),Object(d.jsx)("div",{id:"tasks",children:n.map((function(e,t){return Object(d.jsx)(b,{task:e,id:t,deleteTask:S,setTasks:c,tasks:n})}))})]})})]})};var O=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(h,{})})};i.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(O,{})}))},7:function(e,t,n){}},[[24,1,2]]]);
//# sourceMappingURL=main.a51e2baa.chunk.js.map